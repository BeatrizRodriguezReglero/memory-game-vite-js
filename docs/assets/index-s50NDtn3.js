(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=e(o);fetch(o.href,c)}})();const l=document.getElementById("game-board");document.querySelectorAll(".card");const h=document.getElementById("button-play-again"),f=document.getElementById("results-board"),g=12,m=[];let n,a=null,d=null;const p=(s=7)=>Math.floor(Math.random()*s+1),L=s=>{s.forEach(e=>e.classList.remove("hide"));const t=setTimeout(()=>{s.forEach(e=>e.classList.add("flip","flipped")),setTimeout(()=>{s.forEach(e=>e.children[0].classList.add("hide"))},100),clearInterval(t)},2e3)},y=s=>{const t=s.target;n=s.target.closest(".card");const e=n.querySelector("img");n.classList.add("flip"),n.classList.add("flipped"),setTimeout(()=>{e.classList.remove("hide")},200),!a&&!d&&(a=n,console.log(t),console.log(n)),a&&n!==a&&(d=n,v(a,d))},C=s=>{const t=document.createElement("div");t.classList.add("card"),t.dataset.id=s;const e=document.createElement("img");return e.src=`./assets/images/${s}.jpg`,t.append(e),console.log(e),t},E=s=>{const t=document.createDocumentFragment();s.forEach(o=>{const c=C(o);t.append(c)}),l.append(t);const e=document.querySelectorAll(".card"),r=setTimeout(()=>{L(e),clearTimeout(r)},1e3)},u=()=>{const s=[];for(let r=1;r<g/2+1;r++)s.push(p());const t=[...new Set(s)];if(t.length!==s.length){u();return}const e=[...t,...t];for(let r=e.length-1;r>0;r--){const o=Math.floor(Math.random()*(r+1));[e[r],e[o]]=[e[o],e[r]]}E(e)},v=(s,t)=>{console.dir(a);const e=a.children[0],r=d.children[0];s.dataset.id===t.dataset.id?(e.classList.add("correct"),r.classList.add("correct"),m.push(e),console.log(m)):(e.classList.add("incorrect"),r.classList.add("incorrect"),setTimeout(()=>{e.classList.add("hide"),r.classList.add("hide"),e.classList.remove("incorrect"),r.classList.remove("incorrect")},1500)),a=null,d=null,I()},I=()=>{m.length===g/2&&(console.log("has ganado"),f.classList.remove("hide"),l.classList.add("hide"))},b=()=>{f.classList.add("hide"),l.classList.remove("hide"),l.textContent="",u()};u();l.addEventListener("click",y);h.addEventListener("click",b);
